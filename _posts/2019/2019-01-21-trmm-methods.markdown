---
layout: post
title: TRMM rainfall - processes
modified: '2019-01-21 20:17'
categories: blog
excerpt: Processing TRMM precipitation data for a regional project
tags:
  - TRMM
  - Tropical Rainfall Measurement Mission
  - Sub Saharan Africa
  - Process chain
image: avg-trmm-3b43v7-precip_3B43_trmm_2001-2016_A
date: '2019-01-21 20:17'
comments: true
share: true
movie1: rainfall_3b43_trmm_199801-201807_v7-f
AfricaSubSahara_TRMM-0980_archive-zip_index-x-corr: AfricaSubSahara_TRMM-0980_archive-zip_index-x-corr
AfricaSubSahara042_TRMM-indexcrosscorrelate_M_v80: AfricaSubSahara042_TRMM-indexcrosscorrelate_M_v80
AfricaSubSahara_TRMM-0980_archive-zip_M_1998-2017: AfricaSubSahara_TRMM-0980_archive-zip_M_1998-2017
AfricaSubSahara_TRMM-0630_mosaic_timespanA_2003-2016: AfricaSubSahara_TRMM-0630_mosaic_timespanA_2003-2016
AfricaSubSahara_TRMM-0620_mosaic_index-x-corr_M: AfricaSubSahara_TRMM-0620_mosaic_index-x-corr_M
AfricaSubSahara021_TRMM-resample-2-annual: AfricaSubSahara021_TRMM-resample-2-annual
AfricaSubSahara_TRMM-0320_changes_A_2003-2016: AfricaSubSahara_TRMM-0320_changes_A_2003-2016
AfricaSubSahara_TRMM-GRACE-0960_movieclock_M: AfricaSubSahara_TRMM-GRACE-0960_movieclock_M
AfricaSubSahara_TRMM-0161_tile_timespan-A_2001-2017: AfricaSubSahara_TRMM-0161_tile_timespan-A_2001-2017
AfricaSubSahara_TRMM-0980_archive-zip_A-stats_1998-2017: AfricaSubSahara_TRMM-0980_archive-zip_A-stats_1998-2017
AfricaSubSahara_TRMM-0310_trend_A_2003-2016: AfricaSubSahara_TRMM-0310_trend_A_2003-2016
AfricaSubSahara_TRMM-0920_ExporttoByte_index-x-corr: AfricaSubSahara_TRMM-0920_ExporttoByte_index-x-corr
AfricaSubSahara_TRMM-0630_mosaic_timespanA_1998-2017: AfricaSubSahara_TRMM-0630_mosaic_timespanA_1998-2017
AfricaSubSahara_TRMM-0980_archive-zip_A_2001-2017: AfricaSubSahara_TRMM-0980_archive-zip_A_2001-2017
AfricaSubSahara_TRMM-0980_archive_crosscorr: AfricaSubSahara_TRMM-0980_archive_crosscorr
AfricaSubSahara_TRMM-0610_mosaic_M: AfricaSubSahara_TRMM-0610_mosaic_M
AfricaSubSahara_TRMM-0980_archive-zip_M_2003-2016: AfricaSubSahara_TRMM-0980_archive-zip_M_2003-2016
AfricaSubSahara041_TRMM-autocorrelate_M: AfricaSubSahara041_TRMM-autocorrelate_M
AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2003-2016: AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2003-2016
AfricaSubSahara_TRMM-0310_trend_A_1998-2017: AfricaSubSahara_TRMM-0310_trend_A_1998-2017
AfricaSubSahara_TRMM-0960_movieclock_M: AfricaSubSahara_TRMM-0960_movieclock_M
AfricaSubSahara_TRMM-GRACE-0370_dualtrendcomp_2003-2016: AfricaSubSahara_TRMM-GRACE-0370_dualtrendcomp_2003-2016
AfricaSubSahara_TRMM-GRACE-0951_overlay-movieframes_M: AfricaSubSahara_TRMM-GRACE-0951_overlay-movieframes_M
AfricaSubSahara_TRMM-0320_changes_A_1998-2017: AfricaSubSahara_TRMM-0320_changes_A_1998-2017
AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2001-2017: AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2001-2017
AfricaSubSahara_TRMM-0310_trend_A_2001-2017: AfricaSubSahara_TRMM-0310_trend_A_2001-2017
AfricaSubSahara_TRMM-GRACE-0930-ExporttoByte_trendcomp: AfricaSubSahara_TRMM-GRACE-0930-ExporttoByte_trendcomp
AfricaSubSahara_TRMM-0380_index-x-corr_M: AfricaSubSahara_TRMM-0380_index-x-corr_M
AfricaSubSahara_TRMM-GRACE-0625_mosaic_layer-x-corr_2003-2016: AfricaSubSahara_TRMM-GRACE-0625_mosaic_layer-x-corr_2003-2016
AfricaSubSahara_TRMM-0161_tile_A: AfricaSubSahara_TRMM-0161_tile_A
AfricaSubSahara_TRMM-0320_changes_A_2001-2017: AfricaSubSahara_TRMM-0320_changes_A_2001-2017
AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_1998-2017: AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_1998-2017
AfricaSubSahara_TRMM-0950_movieframes_M: AfricaSubSahara_TRMM-0950_movieframes_M
AfricaSubSahara_TRMM-0610_mosaic_A: AfricaSubSahara_TRMM-0610_mosaic_A
AfricaSubSahara_TRMM-GRACE-0385_layer-x-corr_2003-2016: AfricaSubSahara_TRMM-GRACE-0385_layer-x-corr_2003-2016
AfricaSubSahara_TRMM-0980_archive-zip_A_1998-2017: AfricaSubSahara_TRMM-0980_archive-zip_A_1998-2017
AfricaSubSahara_TRMM-GRACE-0925-ExporttoByte_layer-x-corr_2003-2016: AfricaSubSahara_TRMM-GRACE-0925-ExporttoByte_layer-x-corr_2003-2016
AfricaSubSahara_TRMM-0630_mosaic_timespanA_2001-2017: AfricaSubSahara_TRMM-0630_mosaic_timespanA_2001-2017
AfricaSubSahara_TRMM-0900_ExporttoByte_M: AfricaSubSahara_TRMM-0900_ExporttoByte_M
AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2003-2016: AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2003-2016
AfricaSubSahara_TRMM-0160_tile_M: AfricaSubSahara_TRMM-0160_tile_M
AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2001-2017: AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2001-2017
AfricaSubSahara_TRMM-0980_archive-zip_M_2001-2017: AfricaSubSahara_TRMM-0980_archive-zip_M_2001-2017
AfricaSubSahara_TRMM-0980_archive-zip_A_2003-2016: AfricaSubSahara_TRMM-0980_archive-zip_A_2003-2016
AfricaSubSahara_TRMM-GRACE-0630_mosaic_trendcomp_2003-2016: AfricaSubSahara_TRMM-GRACE-0630_mosaic_trendcomp_2003-2016

---
<script src="https://karttur.github.io/common/assets/js/karttur/togglediv.js"></script>

This post outlines a process chain for exploring and analysing rainfall and its change over Sub Saharan Africa using Karttur´s GeoImagine Framework. The rainfall data are from the [Tropical Rainfall Measurement Mission (TRMM)](https://pmm.nasa.gov/trmm). The results are presented in the [next](../trmm-results/) post.

# Prerequisites

To follow the process steps in this post you must set up a [Spatial Data Integrated Development Environment (SPIDE)](https://karttur.github.io/setup-ide/), download and install [Karttur's GeoImagine Framework](https://karttur.github.io/geoimagine/blog/blog-import-project-eclipse/) from Github, and [download and process the original TRMM data](https://karttur.github.io/geoimagine/blog/blog-TRMM/).

# TRMM

The Tropical Rainfall Measurement Mission (TRMM) ran for 20 years, from 1998 to 2019 (the radar ceased to function already in October 2014). The monthly precipitation product, [TRMM 3B43](https://mirador.gsfc.nasa.gov/collections/TRMM_3B43__007.shtml) developed from TRMM also makes use of other satellite borne precipitation estimates as well as ground based measurements. The product thus continued, despite that the TRMM instrument is no longer operational.

# Process chain

The principal steps for creating estimations, maps and animations of rainfall from TRMM data over Africa using Karttur's GeoImagine Framework include:

- Tile to region
- Time series processing
- Mosaic
- Export media
- Movie generation

In the Framework, a process chain can be built as a series of calls to xml coded instructions. The process chain calls are under the <span class='button'>Hide/Show</span> button below and the remaining parts of the post details each called xml. As noted above, the results are available in the [next](../trmm-results) post.

<button id= "toggleProcessChain" onclick="hiddencode('ProcessChain')">Hide/Show AfricaSubSahara_process_TRMM.txt</button>

<div id="ProcessChain" style="display:none">
{% capture text-capture %}
{% raw %}
```
###################################
###################################
###    TRMM data processing     ###
###################################
###################################

## The processing of Tropical Rainfall Measurement Mission (TRMM) data requires that
## the original TRMM data are already downloaded, processed and available ##

###################################
###          Update db          ###
###################################

## If you have access to TRMM data created by karttur's Geoimagine Framework ##
## you can access the data from your Framework installation by updating the db ##
## You can also use updatedb to clean your database and/or delete files from your Framework organized storage ##

## Delete the tiled 500 m TRMM data ##
#AfricaSubSahara_MODIS-0190_updatedb_TRMM500m-delete.xml

###################################
###       Tile to region        ###
###################################

## Tile monthly TRMM (the tiling is repeated 3 times producing TRMM data in different spatial resolutions) ##
#AfricaSubSahara_TRMM-0160_tile_M.xml

## Tile annual TRMM (the tiling is repeated 3 times producing TRMM data in different spatial resolutions) ##
#AfricaSubSahara_TRMM-0161_tile_A.xml

## Tile statstics and trends for TRMM 9 km (for modis comparisons) ##
#AfricaSubSahara_TRMM-0161_tile_timespan-A_2001-2017.xml

###################################
###   Time Series Processing    ###
###################################

## Statistics and trends
## 1998-2017 is for the complete timeseries, and 2003-2016 for overlap with GRACE ##
#AfricaSubSahara_TRMM-0310_trend_A_1998-2017.xml
#AfricaSubSahara_TRMM-0310_trend_A_2003-2016.xml
## 2001 to 1017 coincides with the MODIS TWI, but this data was retrieved by tiling above and do not need redoing here
## AfricaSubSahara_TRMM-0310_trend_A_2001-2017.xml

## Changes and significant trends
## 1998-2017 is for the complete timeseries and  2003-2016 for overlap with GRACE and 2001 to 2018 for overlap with MODIS TWI ##
#AfricaSubSahara_TRMM-0320_changes_A_1998-2017.xml
#AfricaSubSahara_TRMM-0320_changes_A_2003-2016.xml
## 2001 to 1017 coincides with the MODIS TWI, but this data was retrieved by tiling above and do not need redoing here
#AfricaSubSahara_TRMM-0320_changes_A_2001-2017.xml

## Cross correlation of climate indexes vs TRMM##
#AfricaSubSahara_TRMM-0380_index-x-corr_M.xml

###################################
###   	       Mosaic           ###
###################################

## Mosaic monthly TRMM (at 3 different spatial resolution)##
#AfricaSubSahara_TRMM-0610_mosaic_M.xml

## Mosaic annual TRMM (at 3 different spatial resolution)##
#AfricaSubSahara_TRMM-0610_mosaic_A.xml

## Mosaic statistics, trends and changes ##
#AfricaSubSahara_TRMM-0630_mosaic_timespanA_1998-2017.xml
#AfricaSubSahara_TRMM-0630_mosaic_timespanA_2003-2016.xml
#AfricaSubSahara_TRMM-0630_mosaic_timespanA_2001-2017.xml

## Mosaic cross correlation of climate indexes vs TRMM ##
#AfricaSubSahara_TRMM-0620_mosaic_index-x-corr_M.xml

###################################
###        Export media         ###
###################################

## Export monthly TRMM ##
#AfricaSubSahara_TRMM-0900_ExporttoByte_M.xml

## Export statistics, trends and changes ##
#AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_1998-2017.xml
#AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2003-2016.xml
#AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2001-2017.xml

## Export cross correlation of climate indexes vs TRMM ##
#AfricaSubSahara_TRMM-0920_ExporttoByte_index-x-corr.xml

###        Movie         ###

## Create image frames ##
#AfricaSubSahara_TRMM-0950_movieframes_M.xml

## Create clock frames and movie ##
#AfricaSubSahara_TRMM-0960_movieclock_M.xml

###################################
###           Archive           ###
###################################

## Archive monthly TRMM ##
#AfricaSubSahara_TRMM-0980_archive-zip_M_1998-2017.xml
#AfricaSubSahara_TRMM-0980_archive-zip_M_2003-2016.xml
#AfricaSubSahara_TRMM-0980_archive-zip_M_2001-2017.xml

## Archive annual TRMM ##
#AfricaSubSahara_TRMM-0980_archive-zip_A_1998-2017.xml
#AfricaSubSahara_TRMM-0980_archive-zip_A_2003-2016.xml
#AfricaSubSahara_TRMM-0980_archive-zip_A_2001-2017.xml

## Archive stats, trends and changes TRMM ##
#AfricaSubSahara_TRMM-0980_archive-zip_A-stats_1998-2017.xml
#AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2003-2016.xml
AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2001-2017.xml

## Archive cross correlation of climate indexes vs TRMM ##
#AfricaSubSahara_TRMM-0980_archive-zip_index-x-corr.xml
```
{% endraw %}
{% endcapture %}
{% include widgets/toggle-code.html  toggle-text=text-capture  %}
</div>

## Tile to region

In this project the dominating tile system is the MODIS SIN grid dividing the earth in 36 horizontal and 18 vertical tiles. For the TRMM data, the project starting point is the monthly TRMM rainfall estimates. Also the annually aggregated rainfall estimates are captured by tiling. The calculation of statistics, trends and changes can be done either for the original data and then tiled and resampled, or calculated per tile using the monthly (or annual) data. For data that is resampled to a coarser (aggregated) spatial resolution it is better to the calculations at the tile level. If the spatial scales are similar it is faster to tile (resample) the statistical calculations. If the tile spatial scale is finer, it is faster to use resampling. But whether to use resampling or local (per tile) calculations for retrieving statistics, trends and changes depends on the data scaling, the objective of the study and the required resampling method.

The imported TRMM data are not the original data, but data that have been cleaned regarding nodata as described in [this](https://karttur.github.io/geoimagine/blog/blog-TRMM/) post.

### Tile monthly TRMM

Process: [tileRegionToModisAncillary](https://karttur.github.io/geoimagine/subprocess/subproc-tileRegionToModisAncillary/)

{% capture foo %}{{page.AfricaSubSahara_TRMM-0160_tile_M}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0160_tile_M.html foo=foo %}

### Tile annual TRMM

Process: [tileRegionToModisAncillary](https://karttur.github.io/geoimagine/subprocess/subproc-tileRegionToModisAncillary/)

{% capture foo %}{{page.AfricaSubSahara_TRMM-0161_tile_A}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0161_tile_A.html foo=foo %}

### Tile statstics and trends

Process: [tileRegionToModisAncillary](https://karttur.github.io/geoimagine/subprocess/subproc-tileRegionToModisAncillary/)

{% capture foo %}{{page.AfricaSubSahara_TRMM-0161_tile_timespan-A_2001-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0161_tile_timespan-A_2001-2017.html foo=foo %}

## Time Series Processing

In the process chain used here, the aggregation of monthly to annual rainfall was done using the global TRMM data, and the annual rainfall imported through tiling (above). Also other time series process products (e.g. trends and changes) can be produced and imported in the same manner. The spatial transformation can, however, lead to information losses and it is usually better (but slower) to redo the time series analysis directly using the tiled (monthly or annual) data.

### TRMM annual trends

The annual trends are estimated using two methods, ordinary least square (OLS) regression, and a Mann-Kendall (MK) test together with a Theil-Sen regression. Also the period mean and standard deviations are calculated. These calculations are done for different periods. Where the shorter periods corresponds to the availability of data from the [Gravity Recovery And Climate Experiment (GRACE)](https://grace.jpl.nasa.gov) mission and the  [Moderate Resolution Imaging Spectroradiometer (MODIS)](https://terra.nasa.gov/about/terra-instruments/modis) sensor.

Process: [trendtsmodis](https://karttur.github.io/geoimagine/subprocess/subproc-trendtsmodis/)

#### 1998-2017

The complete TRMM time series is analysed at a spatial scale corresponding to the resolution of the original data (approximately 30 km).

{% capture foo %}{{page.AfricaSubSahara_TRMM-0310_trend_A_1998-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0310_trend_A_1998-2017.html foo=foo %}

#### 2003-2016

The TRMM time series corresponding to the available GRACE data is processed at the 1 degree spatial scale of the GRACE data  (approximately 111 km).

{% capture foo %}{{page.AfricaSubSahara_TRMM-0310_trend_A_2003-2016}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0310_trend_A_2003-2016.html foo=foo %}

#### 2001-2017

The 2001-2017 data corresponds in time to the MODIS data, and the spatial resolution is fitted to the SMAP enhanced data (9 km). You can choose to retrieve the 9 km trends by tiling above, or by analysing the tiled annual data here.

{% capture foo %}{{page.AfricaSubSahara_TRMM-0310_trend_A_2001-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0310_trend_A_2001-2017.html foo=foo %}

## Changes and significant trends

Regions with significant negative (precipitation decrease) or positive (increase) are calculated using the MK scores and with the strength of significant trends captured as the slope and absolute change in precipitation as estimated from the median Theil-Sen regression. Again the analysis covers two different periods, representing the complete TRMM time series (1998-2017) and the overlap with GRACE data (2003-2016). The former period is in a spatial resolution resembling the original TRMM data while the latter in the more coarse resolution of the GRACE data. The latter allows direct overlay with GRACE data as described in other posts belonging to this project.

Process: [signiftrendsmodis](https://karttur.github.io/geoimagine/subprocess/subproc-signiftrendsmodis/)

#### 1998-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0320_changes_A_1998-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0320_changes_A_1998-2017.html foo=foo %}

#### 2013-2016

{% capture foo %}{{page.AfricaSubSahara_TRMM-0320_changes_A_2003-2016}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0320_changes_A_2003-2016.html foo=foo %}

#### 2001-2017

The 2001-2017 data corresponds in time to the MODIS data, and the spatial resolution is fitted to the SMAP enhanced data (9 km). You can choose to retrieve the 9 km changes by tiling above, or by analysing changes here.

{% capture foo %}{{page.AfricaSubSahara_TRMM-0320_changes_A_2001-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0320_changes_A_2001-2017.html foo=foo %}

### Cross correlation climate indexes and TRMM

 Climate indexes capturing the key variability of the internal dynamics of the Earth´s climate system have been widely used for understanding and forecasting e.g. the El Nino Southern Oscillation (ENSO), the North Atlantic Oscillation (NAO) and Pacific Decadal Oscillation (PDO). In this section a set of global climate indexes are compared to the local TRMM rainfall.

 To run the cross correlation you must have [captured the climate indexes](https://karttur.github.io/geoimagine/blog/blog-climateindex/) into the Framework. You can also use the Framework to [visually explore the climate indexes](https://karttur.github.io/geoimagine/blog/blog-climate-graph/). Time series decomposition and smoothing, and other options are shown in [a post on cross corrleation between climate indexes and single location (pixel) TRMM](https://karttur.github.io/geoimagine/blog/blog-climate-trmm-crosscorr/).

The processes included here generate maps of the correlations (expressed as the Pearson number) and the lag (expressed as number of months) between different climate index and the local rainfall. To test the stability of the cross correlation using different smoothing algorithms and filter lengths, five different parameterizations are tested in the xml below.

Process: [indexcrosstrendtsmodis](https://karttur.github.io/geoimagine/subprocess/subproc-indexcrosstrendtsmodis/)

{% capture foo %}{{page.AfricaSubSahara_TRMM-0380_index-x-corr_M}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0380_index-x-corr_M.html foo=foo %}

## Mosaic

In the mosaic process, the tiles are first concatenated and then cut to the actual coordinates of the defining region. Cell values and data type remain the same, but the data can be reprojected on the fly.

Process: [MosaicModis](https://karttur.github.io/geoimagine/subprocess/subproc-MosaicModis/)

### Mosaic monthly TRMM

The monthly mosaicking is done for three different spatial resolutions.

{% capture foo %}{{page.AfricaSubSahara_TRMM-0610_mosaic_M}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0610_mosaic_M.html foo=foo %}

### Mosaic annual TRMM

The annual mosaicking is done for three different spatial resolutions.

{% capture foo %}{{page.AfricaSubSahara_TRMM-0610_mosaic_A}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0610_mosaic_A.html foo=foo %}

### Mosaic statistics, trends and changes

The annual trends were calculated for three different periods (see above). The shorter periods (2003-2016 and 2001+2017) were primarily done for comparing TRMM with GRACE and MODIS TWI, and need not be mosaicked and exported. The xml coded processes for exporting are, however, included below.

#### 1998-2018  

{% capture foo %}{{page.AfricaSubSahara_TRMM-0630_mosaic_timespanA_1998-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0630_mosaic_timespanA_1998-2017.html foo=foo %}

### 2003-2016

{% capture foo %}{{page.AfricaSubSahara_TRMM-0630_mosaic_timespanA_2003-2016}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0630_mosaic_timespanA_2003-2016.html foo=foo %}

### 2001-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0630_mosaic_timespanA_2001-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0630_mosaic_timespanA_2001-2017.html foo=foo %}

### Mosaic cross correlation of climate indexes vs TRMM

Because of the comparison of five (5) different parameter settings, six (6) different indexes and then also four (4) different time series components, a large number of layers have to be mosaicked if all are to be included. Clicking the <span class='nutton'>Hide/Show button</span> below might thus respond slowly.

{% capture foo %}{{page.AfricaSubSahara_TRMM-0620_mosaic_index-x-corr_M}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0620_mosaic_index-x-corr_M.html foo=foo %}

## Export Media

Process: [exporttobytemodisRegionToRegion](https://karttur.github.io/geoimagine/subprocess/subproc-exporttobytemodisRegionToRegion/)

### Export monthly TRMM

The monthly images of the precipitation are exported primarliy in order to use each date as a frame in animations (movies).

{% capture foo %}{{page.AfricaSubSahara_TRMM-0900_ExporttoByte_M}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0900_ExporttoByte_M.html foo=foo %}

### Export statistics, trends and changes

The annual statistics, trends and changes were calculated for three different periods (see above). The xml commands below can be used for exporting all of the processed data.

#### 1998-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_1998-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_1998-2017.html foo=foo %}

#### 2003-2016

{% capture foo %}{{page.AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2003-2016}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2003-2016.html foo=foo %}

#### 2001-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2001-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0910_ExporttoByte_timespanA_2001-2017.html foo=foo %}

### Export cross correlation of climate indexes vs TRMM

{% capture foo %}{{page.AfricaSubSahara_TRMM-0920_ExporttoByte_index-x-corr}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0920_ExporttoByte_index-x-corr.html foo=foo %}

### Movies

To create the animated movie showing the monthly rainfall over Sub Saharan Africa the monthly rainfall data must be mosaicked and exported as color maps as outlined above. The movie is created using two processes; the first process converts the exported color maps to image frames and the the second process creates a clock and timeline that fits the frames. The second process also produces shell scripts that merges the image and clock frames and then produces the movie.

The movie creation requires that the command line applications [ImageMagick](https://karttur.github.io/setup-theme-blog/blog/install-imagemagick/) and [FFmpeg](https://karttur.github.io/setup-theme-blog/blog/ffmpeg-movie/) are installed.

#### Create image frames

Process: [movieframeModisRegionToRegion](https://karttur.github.io/geoimagine/subprocess/subproc-movieframeModisRegionToRegion/)

{% capture foo %}{{page.AfricaSubSahara_TRMM-0950_movieframes_M}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0950_movieframes_M.html foo=foo %}

#### Create clock frames and movie

Process: [movieclockModisRegionToRegion](https://karttur.github.io/geoimagine/subprocess/subproc-movieclockModisRegionToRegion/)

{% capture foo %}{{page.AfricaSubSahara_TRMM-0960_movieclock_M}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0960_movieclock_M.html foo=foo %}

## Archive

Archiving is done by creating zip files of each individual layer and saving it in a hierarchical structure identical to the original.

### Archive monthly TRMM

Process: [ArchiveModisRegionTiles](https://karttur.github.io/geoimagine/subprocess/subproc-ArchiveModisRegionTiles/)

#### 1998-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_M_1998-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_M_1998-2017.html foo=foo %}

#### 2003-2016

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_M_2003-2016}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_M_2003-2016.html foo=foo %}

#### 2001-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_M_2001-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_M_2001-2017.html foo=foo %}

### Archive annual TRMM

#### 1998-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_A_1998-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_A_1998-2017.html foo=foo %}

#### 2003-2016

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_A_2003-2016}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_A_2003-2016.html foo=foo %}

#### 2001-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_A_2001-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_A_2001-2017.html foo=foo %}

### Archive statistics, trends and changes

#### 1998-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_A-stats_1998-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_A-stats_1998-2017.html foo=foo %}

#### 2003-2016

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2003-2016}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2003-2016.html foo=foo %}

#### 2001-2017

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2001-2017}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_A-stats_2001-2017.html foo=foo %}

### Archive cross correlation of climate indexes vs TRMM

{% capture foo %}{{page.AfricaSubSahara_TRMM-0980_archive-zip_index-x-corr}}{% endcapture %}
{% include xml/AfricaSubSahara_TRMM-0980_archive-zip_index-x-corr.html foo=foo %}

__To view the maps and movies created in this posted, click the [<span class='button'>Next</span>](../trmm-results) button below__.
